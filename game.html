<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/gameui.css"> 
	<style type="text/css">
		.click-past {
			padding:10px; 
			width:500px;
			height:30px;
			background-color:#C30;
			color:#fff;
			font-size:25px;
			font-family:Arial, Helvetica, sans-serif;	
			-webkit-box-shadow: 0px 0px 10px #C30;
			-moz-box-shadow: 0px 0px 10px #C30;
			box-shadow: 0px 0px 10px #C30;
			margin-left:auto;
			margin-right:auto;
			margin-top:40px;

		}
    </style>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="js/qrcode.min.js"></script>
    <script type="text/javascript">
		// QR Code goes here
		function generateQR(qrDivName,urlToEncode){
			alert(urlToEncode);
			var qrcode = new QRCode(document.getElementById("qrcode1"), {
			width : 100,
			height : 100
			});
			qrcode.makeCode(urlToEncode);
		
		}
		var sessionNum = Math.floor(Math.random() * 100000);
		//var x1 = generateQR("qrcode1", "https://smithyproductions.ngrok.com/mobile?sessionNumber=" + sessionNum + "&player=1");
		//var y1 = generateQR("qrcode2", "https://smithyproductions.ngrok.com/mobile?sessionNumber=" + sessionNum + "&player=2");
  		var qrcode = new QRCode(document.getElementById("qrcode1"), {
			width : 100,
			height : 100
			});
			qrcode.makeCode("https://smithyproductions.ngrok.com/mobile?sessionNumber=" + sessionNum + "&player=2");
		// Load in player Images
    var pusher = new Pusher('bf741a8a4c211bec9b6b');
	var channel = pusher.subscribe('private-channel');

    channel.bind('client-coord-update',function(data) {
    //do something soon
		var player = new Image();
		player.src = "img/mainplayer.png";
		
		var otherPlayer = new Image();
		otherPlayer.src = "img/target_standing.png";
  	});

        // Canvas code goes here
        var drawCanvas = function(){
			var c = document.getElementById("main");
			c.width = window.innerWidth;
			c.height = window.innerHeight;
			
			var ctx = c.getContext("2d");
			
			// Add in x and y values for other player here
			var initY = window.innerHeight - 100 - 140;
			
			
			
			// Draw images
			ctx.drawImage(player,0,window.innerHeight - 100,140,100);
			ctx.drawImage(otherPlayer,0,initY,47,132)
				
		}
		setInterval(drawCanvas, 20);
    	
    </script>
    
    
</head>
<body>
	<div class="QRcontainer">
        <div class="QRoverlay">
            <div class="QRplayer1">
            	Player 1<br>
                <div class="qrcode1">
                
                </div>
            </div>
            <div class="QRplayer2">
             	Player 2<br>
                <div class="qrcode2">
                
                </div>
            </div>
            <div style="float:none; clear:both; margin-top:20px;"></div>
            <div class="click-past">Ready Up!</div>
        </div>
    </div>
	<img class="sky hueChanger" src="img/sky.png" />
    <img class="cityscape" src="img/cityscape.png" />
    <div class="cloud1"><img src="img/cloud.png" /></div>
    <div class="cloud2"><img src="img/cloud.png" /></div>
    <div class="cloud3"><img src="img/cloud.png" /></div>
    
	<canvas id="main" width="100" height="100" />
</body>
</html>
